<form class="container lg:w-1/4 md:w-1/3 w-full p-4 mx-auto">
  <h1 class="prose prose-2xl">Add Period</h1>
  <div class="grid grid-cols-1 gap-6 mt-5">
    <label class="block">
      <span class="text-gray-700">Subject</span>
      <input type="text" class=" uppercase form-input w-full block px-4 py-3 rounded-md" [formControl]="subject" />
      <p class="text-sm text-red-600" *ngIf="subject.touched && subject.errors">* please enter subject</p>
    </label>

    <label class="block">
      <span class="text-gray-700">Meet Link</span>
      <input type="url" class="form-input w-full block px-4 py-3 rounded-md" [formControl]="meetLink" />
      <p class="text-sm text-red-600" *ngIf="meetLink.touched && meetLink.errors">* please enter meet link</p>
    </label>

    <label class="block" (click)="$event.stopPropagation()">
      <span class="text-gray-700">Section</span>
      <app-multi-select #section_multiselect [options]="sectionOptions"></app-multi-select>
    </label>


    <span class=" text-gray-700">Period</span>
    <div class="flex justify-between">
      <div *ngFor="let timing of periodTimings.slice(0,4); let i = index"
        [ngClass]="{'day-capsule-selected': (selectedPeriod[0] == i || selectedPeriod[1] == i)}"
        (click)="togglePeriod(i)"
        class="has-tooltip day-capsule day-capsule">
        {{timing.periodNumber}}
        <span class='tooltip rounded shadow-lg p-1 bg-gray-100 text-black -mt-8'>{{timing.startTime + " - " +
          timing.endTime}}</span>
      </div>

    </div>

    <div class="flex justify-between">
      <div *ngFor="let timing of periodTimings.slice(4); let i = index"
        [ngClass]="{'day-capsule-selected': (selectedPeriod[0] === i+4 || selectedPeriod[1] === i+4)}"
        (click)="togglePeriod(i+4)"
        class="has-tooltip day-capsule day-capsule">
        {{timing.periodNumber}}
        <span class='tooltip rounded shadow-lg p-1 bg-gray-100 text-black -mt-8'>{{timing.startTime + " - " +
          timing.endTime}}</span>
      </div>

    </div>

    <span class="block text-gray-700">Day</span>
    <div class="flex justify-between">
      <div class="day-capsule" *ngFor="let day of days; let i = index;" (click)="toggleDay(i)"
        [ngClass]="{'day-capsule-selected':selectedDay == i}">{{day}}</div>
    </div>



    <button
      [disabled]="!subject.valid || !meetLink.valid || !sectionSelector?.selected?.size"
      class="disabled:opacity-40 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md
      text-black  bg-blue-400" (click)="addPeriod()">
      Add
    </button>
    <button
      type="reset"
      class="
        py-2
        px-4
        border border-transparent
        shadow-sm
        text-sm
        font-medium
        rounded-md
        text-black
        bg-red-400
      ">
      Reset
    </button>
  </div>
</form>
