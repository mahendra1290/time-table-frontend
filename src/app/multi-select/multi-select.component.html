<div class="relative">
  <div
    class="w-full flex flex-wrap border gap-1 border-gray-800 px-2 py-1 rounded-md">
    <div
      *ngFor="let item of selected"
      class="flex items-center text-sm mr-2 border-2 pl-3 pr-2 py-1 rounded-full
      ">
      {{ item }}
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4 hover:bg-red-300 rounded-full ml-2"
        fill="none"
        viewBox="0 0 24 24"
        (click)="toggle($event, item)"
        stroke="currentColor">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12" />
      </svg>
    </div>
    <input class="border-none focus:outline-none focus:ring-transparent w-full" type="text"
      (focus)="optionVisible=true"
      [formControl]="searchString" />

  </div>
  <div id="optionDiv" *ngIf="optionVisible"
    class="absolute z-10 bg-white flex-col max-h-36 overflow-y-scroll shadow-md w-full border-2 border-opacity-50">
    <div
      class="flex justify-between items-center px-2 hover:bg-red-200"
      *ngFor="let option of $filteredOptions | async"
      (click)="toggle($event, option)">
      <p class="px-2 py-2 mb-1">
        {{ option }}
      </p>

      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        [ngClass]="selected.has(option) ? 'visible' : 'invisible'"
        viewBox="0 0 20 20"
        fill="currentColor">
        <path
          fill-rule="evenodd"
          d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
          clip-rule="evenodd" />
      </svg>
    </div>
  </div>
</div>
